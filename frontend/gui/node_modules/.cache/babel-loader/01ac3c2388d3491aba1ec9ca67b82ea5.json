{"ast":null,"code":"var _jsxFileName = \"P:\\\\wit_hackathon\\\\frontend\\\\gui\\\\src\\\\components\\\\title.js\";\n// Author - bharath k (bharatk7@in.ibm.com)\nimport React from \"react\";\nimport { Button } from \"./Button\";\nimport { Link } from \"react-router-dom\";\nimport * as IoIcons from \"react-icons/io\";\nimport * as RiIcons from \"react-icons/ri\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { eachtopic, comment, deletetopic, deletecomment } from \"../Services/Rest_call\";\nimport \"./form.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nclass Title extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resp_data: \"\",\n      discussion: \"\",\n      textAreaValue: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handledelete = this.handledelete.bind(this);\n    this.handledeletecom = this.handledeletecom.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      textAreaValue: event.target.value\n    });\n  }\n\n  handledelete(event) {\n    const top_id = document.getElementById(\"del_topic\").getAttribute(\"value\");\n    const self = this.props;\n    deletetopic(top_id).then(function (response) {\n      window.location.pathname = \"/forum\";\n    }).catch(function (error) {\n      if (!error.response) {\n        alert(\"Connection to host failed\");\n      } else {\n        if (error.response.status === 401) {\n          localStorage.clear();\n          self.update_login();\n        }\n\n        if (error.response.status === 400) {\n          toast.error(\"Topic does not exists\", {\n            autoClose: 3000\n          });\n        }\n\n        if (error.response.status === 500) {\n          toast.error(\"Internal Server Error\", {\n            autoClose: 3000\n          });\n        }\n      }\n    });\n  }\n\n  handledeletecom(event) {\n    const com_id = event.target.getAttribute(\"value\");\n    const self = this.props;\n    deletecomment(com_id).then(function (response) {\n      window.location.reload();\n    }).catch(function (error) {\n      if (!error.response) {\n        alert(\"Connection to host failed\");\n      } else {\n        if (error.response.status === 401) {\n          localStorage.clear();\n          self.update_login();\n        }\n\n        if (error.response.status === 400) {\n          toast.error(\"Topic does not exists\", {\n            autoClose: 3000\n          });\n        }\n\n        if (error.response.status === 500) {\n          toast.error(\"Internal Server Error\", {\n            autoClose: 3000\n          });\n        }\n      }\n    });\n  }\n\n  handleSubmit(event) {\n    const self = this.props;\n    event.preventDefault();\n    comment(this.props.match.params.topicID, event.target.taname.value).then(function (response) {\n      window.location.reload();\n    }).catch(function (error) {\n      if (!error.response) {\n        alert(\"Connection to host failed\");\n      } else {\n        if (error.response.status === 401) {\n          localStorage.clear();\n          self.update_login();\n        }\n\n        if (error.response.status === 400) {\n          toast.error(\"Topic does not exists\", {\n            autoClose: 3000\n          });\n        }\n\n        if (error.response.status === 500) {\n          toast.error(\"Internal Server Error\", {\n            autoClose: 3000\n          });\n        }\n      }\n    });\n  }\n\n  componentDidMount() {\n    const topicID = this.props.match.params.topicID;\n    const self = this.props;\n    eachtopic(topicID).then(res => {\n      this.setState({\n        resp_data: res.data,\n        discussion: res.data.discussion\n      });\n    }).catch(error => {\n      if (!error.response) {\n        alert(\"Connection to host failed\");\n      } else {\n        if (error.response.status === 401) {\n          localStorage.clear();\n          self.update_login();\n        }\n\n        if (error.response.status === 404) {\n          toast.error(\"Details Not Found\", {\n            autoClose: 3000\n          });\n        }\n\n        if (error.response.status === 500) {\n          toast.error(\"Internal Server Error\", {\n            autoClose: 3000\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    const resp_data = this.state.resp_data;\n    const discussion = this.state.discussion;\n    let arr;\n    let arr1;\n    let cur_user = localStorage.getItem(\"User\");\n\n    if (discussion.length !== 0) {\n      arr1 = discussion.map(discuss => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment_disc\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: discuss.comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), cur_user === discuss.comment_username && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(RiIcons.RiDeleteBin3Line, {\n            onClick: this.handledeletecom,\n            className: \"backarrowc\",\n            value: discuss.id,\n            size: 21\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"topbox\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"asked_by1\",\n            children: discuss.comment_username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"asked_on\",\n            children: [discuss.date_created, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"topic_line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, discuss.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this));\n    } else {\n      arr1 = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"No comments yet\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (resp_data !== \"\") {\n      arr = /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"topic_disc\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: resp_data.topic\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), cur_user === resp_data.topic_user.username && /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: this.handledelete,\n            children: /*#__PURE__*/_jsxDEV(RiIcons.RiDeleteBin3Fill, {\n              value: resp_data.id,\n              name: \"del_topic\",\n              id: \"del_topic\",\n              className: \"backarrowd\",\n              size: 25\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"topbox\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"asked_by\",\n              children: [\"Asked : \", resp_data.topic_user.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"asked_on\",\n              children: [resp_data.date_created, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"topic_line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"creator_desc\",\n            children: [resp_data.description, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contain\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/forum\",\n        className: \"btn-mobile\",\n        children: /*#__PURE__*/_jsxDEV(IoIcons.IoMdArrowBack, {\n          className: \"backarrow2\",\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), arr, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Comments : \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), arr1, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment_section\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Your Comment : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"textboxb\",\n            name: \"taname\",\n            id: \"taname\",\n            rows: \"10\",\n            cols: \"171\",\n            wrap: \"soft\",\n            value: this.state.textAreaValue,\n            onChange: this.handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            buttonStyle: \"btn--primary2\",\n            children: \"Post Your Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Title;","map":{"version":3,"sources":["P:/wit_hackathon/frontend/gui/src/components/title.js"],"names":["React","Button","Link","IoIcons","RiIcons","toast","eachtopic","comment","deletetopic","deletecomment","configure","Title","Component","constructor","props","state","resp_data","discussion","textAreaValue","handleSubmit","bind","handleChange","handledelete","handledeletecom","event","setState","target","value","top_id","document","getElementById","getAttribute","self","then","response","window","location","pathname","catch","error","alert","status","localStorage","clear","update_login","autoClose","com_id","reload","preventDefault","match","params","topicID","taname","componentDidMount","res","data","render","arr","arr1","cur_user","getItem","length","map","discuss","comment_username","id","date_created","topic","topic_user","username","description"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,KAAKC,OAAZ,MAAyB,gBAAzB;AACA,OAAO,KAAKC,OAAZ,MAAyB,gBAAzB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AAEA,SACEC,SADF,EAEEC,OAFF,EAGEC,WAHF,EAIEC,aAJF,QAKO,uBALP;AAMA,OAAO,YAAP;;;AAEAJ,KAAK,CAACK,SAAN;;AACA,MAAMC,KAAN,SAAoBX,KAAK,CAACY,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,EADA;AAEXC,MAAAA,UAAU,EAAE,EAFD;AAGXC,MAAAA,aAAa,EAAE;AAHJ,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKG,eAAL,GAAuB,KAAKA,eAAL,CAAqBH,IAArB,CAA0B,IAA1B,CAAvB;AACD;;AAEDC,EAAAA,YAAY,CAACG,KAAD,EAAQ;AAClB,SAAKC,QAAL,CAAc;AAAEP,MAAAA,aAAa,EAAEM,KAAK,CAACE,MAAN,CAAaC;AAA9B,KAAd;AACD;;AACDL,EAAAA,YAAY,CAACE,KAAD,EAAQ;AAClB,UAAMI,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,YAArC,CAAkD,OAAlD,CAAf;AACA,UAAMC,IAAI,GAAG,KAAKlB,KAAlB;AACAN,IAAAA,WAAW,CAACoB,MAAD,CAAX,CACGK,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxBC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA2B,QAA3B;AACD,KAHH,EAIGC,KAJH,CAIS,UAAUC,KAAV,EAAiB;AACtB,UAAI,CAACA,KAAK,CAACL,QAAX,EAAqB;AACnBM,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACD,OAFD,MAEO;AACL,YAAID,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCC,UAAAA,YAAY,CAACC,KAAb;AACAX,UAAAA,IAAI,CAACY,YAAL;AACD;;AACD,YAAIL,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCpC,UAAAA,KAAK,CAACkC,KAAN,CAAY,uBAAZ,EAAqC;AACnCM,YAAAA,SAAS,EAAE;AADwB,WAArC;AAGD;;AACD,YAAIN,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCpC,UAAAA,KAAK,CAACkC,KAAN,CAAY,uBAAZ,EAAqC;AACnCM,YAAAA,SAAS,EAAE;AADwB,WAArC;AAGD;AACF;AACF,KAvBH;AAwBD;;AACDtB,EAAAA,eAAe,CAACC,KAAD,EAAQ;AACrB,UAAMsB,MAAM,GAAGtB,KAAK,CAACE,MAAN,CAAaK,YAAb,CAA0B,OAA1B,CAAf;AACA,UAAMC,IAAI,GAAG,KAAKlB,KAAlB;AACAL,IAAAA,aAAa,CAACqC,MAAD,CAAb,CACGb,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxBC,MAAAA,MAAM,CAACC,QAAP,CAAgBW,MAAhB;AACD,KAHH,EAIGT,KAJH,CAIS,UAAUC,KAAV,EAAiB;AACtB,UAAI,CAACA,KAAK,CAACL,QAAX,EAAqB;AACnBM,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACD,OAFD,MAEO;AACL,YAAID,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCC,UAAAA,YAAY,CAACC,KAAb;AACAX,UAAAA,IAAI,CAACY,YAAL;AACD;;AACD,YAAIL,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCpC,UAAAA,KAAK,CAACkC,KAAN,CAAY,uBAAZ,EAAqC;AACnCM,YAAAA,SAAS,EAAE;AADwB,WAArC;AAGD;;AACD,YAAIN,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCpC,UAAAA,KAAK,CAACkC,KAAN,CAAY,uBAAZ,EAAqC;AACnCM,YAAAA,SAAS,EAAE;AADwB,WAArC;AAGD;AACF;AACF,KAvBH;AAwBD;;AACD1B,EAAAA,YAAY,CAACK,KAAD,EAAQ;AAClB,UAAMQ,IAAI,GAAG,KAAKlB,KAAlB;AACAU,IAAAA,KAAK,CAACwB,cAAN;AAEAzC,IAAAA,OAAO,CAAC,KAAKO,KAAL,CAAWmC,KAAX,CAAiBC,MAAjB,CAAwBC,OAAzB,EAAkC3B,KAAK,CAACE,MAAN,CAAa0B,MAAb,CAAoBzB,KAAtD,CAAP,CACGM,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxBC,MAAAA,MAAM,CAACC,QAAP,CAAgBW,MAAhB;AACD,KAHH,EAIGT,KAJH,CAIS,UAAUC,KAAV,EAAiB;AACtB,UAAI,CAACA,KAAK,CAACL,QAAX,EAAqB;AACnBM,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACD,OAFD,MAEO;AACL,YAAID,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCC,UAAAA,YAAY,CAACC,KAAb;AACAX,UAAAA,IAAI,CAACY,YAAL;AACD;;AACD,YAAIL,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCpC,UAAAA,KAAK,CAACkC,KAAN,CAAY,uBAAZ,EAAqC;AACnCM,YAAAA,SAAS,EAAE;AADwB,WAArC;AAGD;;AACD,YAAIN,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCpC,UAAAA,KAAK,CAACkC,KAAN,CAAY,uBAAZ,EAAqC;AACnCM,YAAAA,SAAS,EAAE;AADwB,WAArC;AAGD;AACF;AACF,KAvBH;AAwBD;;AACDQ,EAAAA,iBAAiB,GAAG;AAClB,UAAMF,OAAO,GAAG,KAAKrC,KAAL,CAAWmC,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxC;AACA,UAAMnB,IAAI,GAAG,KAAKlB,KAAlB;AACAR,IAAAA,SAAS,CAAC6C,OAAD,CAAT,CACGlB,IADH,CACSqB,GAAD,IAAS;AACb,WAAK7B,QAAL,CAAc;AACZT,QAAAA,SAAS,EAAEsC,GAAG,CAACC,IADH;AAEZtC,QAAAA,UAAU,EAAEqC,GAAG,CAACC,IAAJ,CAAStC;AAFT,OAAd;AAID,KANH,EAOGqB,KAPH,CAOUC,KAAD,IAAW;AAChB,UAAI,CAACA,KAAK,CAACL,QAAX,EAAqB;AACnBM,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACD,OAFD,MAEO;AACL,YAAID,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCC,UAAAA,YAAY,CAACC,KAAb;AACAX,UAAAA,IAAI,CAACY,YAAL;AACD;;AACD,YAAIL,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCpC,UAAAA,KAAK,CAACkC,KAAN,CAAY,mBAAZ,EAAiC;AAC/BM,YAAAA,SAAS,EAAE;AADoB,WAAjC;AAGD;;AACD,YAAIN,KAAK,CAACL,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjCpC,UAAAA,KAAK,CAACkC,KAAN,CAAY,uBAAZ,EAAqC;AACnCM,YAAAA,SAAS,EAAE;AADwB,WAArC;AAGD;AACF;AACF,KA1BH;AA2BD;;AACDW,EAAAA,MAAM,GAAG;AACP,UAAMxC,SAAS,GAAG,KAAKD,KAAL,CAAWC,SAA7B;AACA,UAAMC,UAAU,GAAG,KAAKF,KAAL,CAAWE,UAA9B;AAEA,QAAIwC,GAAJ;AACA,QAAIC,IAAJ;AACA,QAAIC,QAAQ,GAAGjB,YAAY,CAACkB,OAAb,CAAqB,MAArB,CAAf;;AACA,QAAI3C,UAAU,CAAC4C,MAAX,KAAsB,CAA1B,EAA6B;AAC3BH,MAAAA,IAAI,GAAGzC,UAAU,CAAC6C,GAAX,CAAgBC,OAAD,iBACpB;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AAAA,oBAAOA,OAAO,CAACxD;AAAf;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGoD,QAAQ,KAAKI,OAAO,CAACC,gBAArB,iBACC;AAAA,iCACE,QAAC,OAAD,CAAS,gBAAT;AACE,YAAA,OAAO,EAAE,KAAKzC,eADhB;AAEE,YAAA,SAAS,EAAC,YAFZ;AAGE,YAAA,KAAK,EAAEwC,OAAO,CAACE,EAHjB;AAIE,YAAA,IAAI,EAAE;AAJR;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAYE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,WAAhB;AAAA,sBAA6BF,OAAO,CAACC;AAArC;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAM,YAAA,SAAS,EAAC,UAAhB;AAAA,uBAA4BD,OAAO,CAACG,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZF,eAkBE;AAAI,UAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,gBAlBF;AAAA,SAAmCH,OAAO,CAACE,EAA3C;AAAA;AAAA;AAAA;AAAA,cADK,CAAP;AAsBD,KAvBD,MAuBO;AACLP,MAAAA,IAAI,gBACF;AAAA,mDAEE;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAOD;;AAED,QAAI1C,SAAS,KAAK,EAAlB,EAAsB;AACpByC,MAAAA,GAAG,gBACD;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACE;AAAA,sBAAKzC,SAAS,CAACmD;AAAf;AAAA;AAAA;AAAA;AAAA,kBADF,EAEGR,QAAQ,KAAK3C,SAAS,CAACoD,UAAV,CAAqBC,QAAlC,iBACC;AAAM,YAAA,OAAO,EAAE,KAAK/C,YAApB;AAAA,mCACE,QAAC,OAAD,CAAS,gBAAT;AACE,cAAA,KAAK,EAAEN,SAAS,CAACiD,EADnB;AAEE,cAAA,IAAI,EAAC,WAFP;AAGE,cAAA,EAAE,EAAC,WAHL;AAIE,cAAA,SAAS,EAAC,YAJZ;AAKE,cAAA,IAAI,EAAE;AALR;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAcE;AAAK,YAAA,SAAS,EAAC,QAAf;AAAA,oCACE;AAAM,cAAA,SAAS,EAAC,UAAhB;AAAA,qCACWjD,SAAS,CAACoD,UAAV,CAAqBC,QADhC;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAIE;AAAM,cAAA,SAAS,EAAC,UAAhB;AAAA,yBAA4BrD,SAAS,CAACkD,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdF,eAoBE;AAAI,YAAA,SAAS,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA,kBApBF,eAqBE;AAAM,YAAA,SAAS,EAAC,cAAhB;AAAA,uBAAgClD,SAAS,CAACsD,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA,kBArBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,uBADF;AA2BD;;AACD,wBACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAkB,QAAA,SAAS,EAAC,YAA5B;AAAA,+BACE,QAAC,OAAD,CAAS,aAAT;AAAuB,UAAA,SAAS,EAAC,YAAjC;AAA8C,UAAA,IAAI,EAAE;AAApD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,EAIGb,GAJH,eAKE;AAAA;AAAA;AAAA;AAAA,cALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,EAOGC,IAPH,eAQE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,gCACE;AAAA,iCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAM,UAAA,QAAQ,EAAE,KAAKvC,YAArB;AAAA,kCACE;AACE,YAAA,SAAS,EAAC,UADZ;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,EAAE,EAAC,QAHL;AAIE,YAAA,IAAI,EAAC,IAJP;AAKE,YAAA,IAAI,EAAC,KALP;AAME,YAAA,IAAI,EAAC,MANP;AAOE,YAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWG,aAPpB;AAQE,YAAA,QAAQ,EAAE,KAAKG,YARjB;AASE,YAAA,QAAQ,EAAE;AATZ;AAAA;AAAA;AAAA;AAAA,kBADF,eAYE,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,WAAW,EAAC,eAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cARF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAkCD;;AA5OiC;;AA8OpC,eAAeV,KAAf","sourcesContent":["// Author - bharath k (bharatk7@in.ibm.com)\r\nimport React from \"react\";\r\nimport { Button } from \"./Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as IoIcons from \"react-icons/io\";\r\nimport * as RiIcons from \"react-icons/ri\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport {\r\n  eachtopic,\r\n  comment,\r\n  deletetopic,\r\n  deletecomment,\r\n} from \"../Services/Rest_call\";\r\nimport \"./form.css\";\r\n\r\ntoast.configure();\r\nclass Title extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resp_data: \"\",\r\n      discussion: \"\",\r\n      textAreaValue: \"\",\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handledelete = this.handledelete.bind(this);\r\n    this.handledeletecom = this.handledeletecom.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ textAreaValue: event.target.value });\r\n  }\r\n  handledelete(event) {\r\n    const top_id = document.getElementById(\"del_topic\").getAttribute(\"value\");\r\n    const self = this.props;\r\n    deletetopic(top_id)\r\n      .then(function (response) {\r\n        window.location.pathname = \"/forum\";\r\n      })\r\n      .catch(function (error) {\r\n        if (!error.response) {\r\n          alert(\"Connection to host failed\");\r\n        } else {\r\n          if (error.response.status === 401) {\r\n            localStorage.clear();\r\n            self.update_login();\r\n          }\r\n          if (error.response.status === 400) {\r\n            toast.error(\"Topic does not exists\", {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n          if (error.response.status === 500) {\r\n            toast.error(\"Internal Server Error\", {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n  handledeletecom(event) {\r\n    const com_id = event.target.getAttribute(\"value\");\r\n    const self = this.props;\r\n    deletecomment(com_id)\r\n      .then(function (response) {\r\n        window.location.reload();\r\n      })\r\n      .catch(function (error) {\r\n        if (!error.response) {\r\n          alert(\"Connection to host failed\");\r\n        } else {\r\n          if (error.response.status === 401) {\r\n            localStorage.clear();\r\n            self.update_login();\r\n          }\r\n          if (error.response.status === 400) {\r\n            toast.error(\"Topic does not exists\", {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n          if (error.response.status === 500) {\r\n            toast.error(\"Internal Server Error\", {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n  handleSubmit(event) {\r\n    const self = this.props;\r\n    event.preventDefault();\r\n\r\n    comment(this.props.match.params.topicID, event.target.taname.value)\r\n      .then(function (response) {\r\n        window.location.reload();\r\n      })\r\n      .catch(function (error) {\r\n        if (!error.response) {\r\n          alert(\"Connection to host failed\");\r\n        } else {\r\n          if (error.response.status === 401) {\r\n            localStorage.clear();\r\n            self.update_login();\r\n          }\r\n          if (error.response.status === 400) {\r\n            toast.error(\"Topic does not exists\", {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n          if (error.response.status === 500) {\r\n            toast.error(\"Internal Server Error\", {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n  componentDidMount() {\r\n    const topicID = this.props.match.params.topicID;\r\n    const self = this.props;\r\n    eachtopic(topicID)\r\n      .then((res) => {\r\n        this.setState({\r\n          resp_data: res.data,\r\n          discussion: res.data.discussion,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        if (!error.response) {\r\n          alert(\"Connection to host failed\");\r\n        } else {\r\n          if (error.response.status === 401) {\r\n            localStorage.clear();\r\n            self.update_login();\r\n          }\r\n          if (error.response.status === 404) {\r\n            toast.error(\"Details Not Found\", {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n          if (error.response.status === 500) {\r\n            toast.error(\"Internal Server Error\", {\r\n              autoClose: 3000,\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n  render() {\r\n    const resp_data = this.state.resp_data;\r\n    const discussion = this.state.discussion;\r\n\r\n    let arr;\r\n    let arr1;\r\n    let cur_user = localStorage.getItem(\"User\");\r\n    if (discussion.length !== 0) {\r\n      arr1 = discussion.map((discuss) => (\r\n        <div className=\"comment_disc\" key={discuss.id}>\r\n          <span>{discuss.comment}</span>\r\n          {cur_user === discuss.comment_username && (\r\n            <span>\r\n              <RiIcons.RiDeleteBin3Line\r\n                onClick={this.handledeletecom}\r\n                className=\"backarrowc\"\r\n                value={discuss.id}\r\n                size={21}\r\n              />\r\n            </span>\r\n          )}\r\n          <div className=\"topbox\">\r\n            <span className=\"asked_by1\">{discuss.comment_username}</span>\r\n            <br />\r\n            <span className=\"asked_on\">{discuss.date_created} </span>\r\n          </div>\r\n\r\n          <hr className=\"topic_line\" />\r\n        </div>\r\n      ));\r\n    } else {\r\n      arr1 = (\r\n        <div>\r\n          No comments yet\r\n          <br />\r\n          <br />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (resp_data !== \"\") {\r\n      arr = (\r\n        <>\r\n          <div className=\"topic_disc\">\r\n            <h5>{resp_data.topic}</h5>\r\n            {cur_user === resp_data.topic_user.username && (\r\n              <span onClick={this.handledelete}>\r\n                <RiIcons.RiDeleteBin3Fill\r\n                  value={resp_data.id}\r\n                  name=\"del_topic\"\r\n                  id=\"del_topic\"\r\n                  className=\"backarrowd\"\r\n                  size={25}\r\n                />\r\n              </span>\r\n            )}\r\n\r\n            <div className=\"topbox\">\r\n              <span className=\"asked_by\">\r\n                Asked : {resp_data.topic_user.username}\r\n              </span>\r\n              <span className=\"asked_on\">{resp_data.date_created} </span>\r\n            </div>\r\n            <hr className=\"topic_line\" />\r\n            <span className=\"creator_desc\">{resp_data.description} </span>\r\n          </div>\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"contain\">\r\n        <Link to=\"/forum\" className=\"btn-mobile\">\r\n          <IoIcons.IoMdArrowBack className=\"backarrow2\" size={30} />\r\n        </Link>\r\n        {arr}\r\n        <br />\r\n        <h6>Comments : </h6>\r\n        {arr1}\r\n        <div className=\"comment_section\">\r\n          <span>\r\n            <b>Your Comment : </b>\r\n          </span>\r\n          <br />\r\n          <br />\r\n          <form onSubmit={this.handleSubmit}>\r\n            <textarea\r\n              className=\"textboxb\"\r\n              name=\"taname\"\r\n              id=\"taname\"\r\n              rows=\"10\"\r\n              cols=\"171\"\r\n              wrap=\"soft\"\r\n              value={this.state.textAreaValue}\r\n              onChange={this.handleChange}\r\n              required={true}\r\n            ></textarea>\r\n            <Button type=\"submit\" buttonStyle=\"btn--primary2\">\r\n              Post Your Comment\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Title;\r\n"]},"metadata":{},"sourceType":"module"}